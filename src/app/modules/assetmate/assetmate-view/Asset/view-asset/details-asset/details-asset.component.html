<div fxLayout="row" class="margin_auto" fxLayoutAlign="space-evenly start">
    <mat-card fxFlex="95" fxFlex.lt-md="95">
        <div class="innerpage_title">
            <div class="header_title" fxLayout="row" fxLayoutAlign.gt-xs="space-between center" fxLayout.xs="column"
                fxLayoutGap.xs="20px">
                <div fxLayout="row">
                    <div>
                        <button mat-button (click)="backToList()"
                            class="back btn_style round_squer bg_pink_navy text_white">
                            <mat-icon>keyboard_backspace</mat-icon>
                        </button>
                    </div>
                    <div>
                        <p class="title_header mat-subheading-2 tal">{{assetData.assetTitle}}</p>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px" fxLayoutAlign.gt-xs="center center">
                    <div fxFlex.xs="100" *ngIf="assetData.isVerified != 'true'" fxLayout="row" fxLayoutGap="10px"
                        fxLayoutAlign.xs="space-between center">
                        <button fxFlex.xs="100" mat-stroked-button (click)="verifyAsset(assetId)" color="primary">
                            <mat-icon>check</mat-icon>
                            Mark As Verified
                        </button>
                    </div>
                    <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign.xs="space-between center"
                        class="slideer-sw-container">
                        <span>Activate</span>
                        <mat-slide-toggle color="primary" [checked]="assetData.isActive"
                            (change)="activateAsset($event)">
                        </mat-slide-toggle>
                    </div>
                    <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign.xs="space-between center"
                        class="slideer-sw-container">
                        <span>Retire</span>
                        <mat-slide-toggle color="primary" [checked]="assetData.isRetired"
                            (change)="retireAsset($event)">
                        </mat-slide-toggle>
                    </div>
                    <div fxFlex.xs="100" class="dfe add_action">
                        <button *ngIf="!isCurrentUserAdmin()" fxFlex.xs="100" mat-button (click)="printQRcode()"
                            class="bg_white_grey btn_style">
                            <mat-icon>print</mat-icon>Print QRCode
                        </button>
                    </div>
                </div>
            </div>
            <div>
                <div class="fl total">
                    <p><b>{{assetData.totalDoneChecklist}}</b><span>Total Done Checklist</span></p>
                </div>
                <div class="fl total">
                    <p><b>{{assetData.totalDocuments}}</b><span>Documents</span></p>
                </div>
                <div class="fl total">
                    <p><b>{{assetData.totalAssignedUsers}}</b><span>Assigned Users</span></p>
                </div>
            </div>
            <div class="cl"></div>
        </div>
        <div class="asset_view_detail">
            <mat-tab-group>
                <mat-tab label="Basic Information">
                    <div class="tab_content" fxLayout="column" fxLayoutGap="30px" fxLayoutGap.xs="20px" fxFlex="100">
                        <div fxLayout.gt-xs="row" fxLayout.xs="column" fxLayoutGap.xs="20px" fxLayoutGap.gt-xs="30px">
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Asset Title</h4>
                                <span>{{assetData.assetTitle}}</span>
                            </div>
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Asset Code</h4>
                                <span>{{assetData.assetCode}}</span>
                            </div>

                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Model Number</h4>
                                <span>{{assetData.modelNumber}}</span>
                            </div>
                        </div>
                        <div fxLayout.gt-xs="row" fxLayout.xs="column" fxLayoutGap.xs="20px" fxLayoutGap.gt-xs="30px">
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Supplier Name</h4>
                                <span>{{assetData.supplierName}}</span>
                            </div>
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Manufacturer </h4>
                                <span>{{assetData.manufacturerName}}</span>
                            </div>

                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Department</h4>
                                <span>{{assetData.departmentTitle}}</span>
                            </div>
                        </div>
                        <div fxLayout.gt-xs="row" fxLayout.xs="column" fxLayoutGap.xs="20px" fxLayoutGap.gt-xs="30px">
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Installation Date</h4>
                                <span>{{assetData.installationDate}}</span>
                            </div>
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Installation Location Type</h4>
                                <span>{{assetData.installedAt}}</span>
                            </div>
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Installation Location</h4>
                                <span>{{assetData.installedLocation}}</span>
                            </div>
                        </div>
                        <div fxLayout.gt-xs="row" fxLayout.xs="column" fxLayoutGap.xs="20px" fxLayoutGap.gt-xs="30px">
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Checking Duration</h4>
                                <span>{{assetData.checkingDuration + ' ' +assetData.durationTitle}}</span>
                            </div>
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Asset Warranty</h4>
                                <span>{{assetData.warrenty + ' ' +assetData.warrentyPeriod}}</span>
                            </div>
                            <div fxFlex="33">
                                <h4 class=" mat-h4 db ">Company Asset Number</h4>
                                <span>{{assetData.companyAssetNo != 'undefined' ? assetData.companyAssetNo : 'NA'}}</span>
                            </div>
                        </div>
                        <div fxLayout="column">
                            <h4 class=" mat-h4 db ">Added By</h4>
                            <span>{{assetData.typeOfUser + ' -' }}
                                {{assetData.addedByName != (null || undefined || "")?assetData.addedByName : "NA"}}</span>
                        </div>
                        <div fxLayout="column">
                            <h4 class=" mat-h4 db ">Description</h4>
                            <span>{{assetData.description != "" ? assetData.description : "NA" }}</span>
                        </div>
                        <div fxLayout.gt-xs="row" fxLayout.xs="column" fxLayoutGap.xs="20px" fxLayoutGap.gt-xs="30px">
                            <div fxFlex="18" fxFlex.xs="100" fxFlex.sm="28" fxLayout="column">
                                <h4 class=" mat-h4 db ">Asset Image</h4>
                                <mat-card (click)="priviewImage( assetData.assetTitle, assetData.image)"
                                    class="asset-img-container-card" fxLayout="column" fxFlex="100"
                                    fxLayoutAlign="center center">
                                    <div [ngStyle]="{
                                            'background-image': 'url(' + assetData.image + ')',
                                            'background-size': 'contain',
                                            'background-position': 'center center',
                                            'background-repeat': 'no-repeat',
                                            'width':'100%',
                                            'height':'100%',
                                            'min-height':'100px'
                                        }"></div>
                                </mat-card>
                            </div>
                            <div fxFlex="18" fxFlex.xs="100" fxFlex.sm="28">
                                <h4 class=" mat-h4 db ">Asset Qr-Code</h4>
                                <mat-card (click)="openQRCodeDialog(assetcode)" class="asset-img-container-card"
                                    fxLayoutAlign="center center">
                                    <qrcode [qrdata]="assetcode" [size]="160" [level]="'M'"></qrcode>
                                </mat-card>
                            </div>
                        </div>
                        <div fxLayout="column">
                            <h4 class="mat-h4 db">Asset User Guide</h4>
                            <div *ngIf="assetData.userGuideBook != null" class="userguide" fxLayout.gt-xs="row"
                                fxLayout.xs="column" fxLayoutGap.xs="15px" fxLayoutAlign.gt-xs="flex-start center">
                                <div fxFlex="20" fxFlex.xs="100" fxLayoutAlign="center center">
                                    <span class="round">
                                        .{{userGuideFileExtension}}
                                    </span>
                                </div>
                                <span fxFlex="60" fxFlex.xs="100" fxLayoutAlign="center center">
                                    {{userGuideFileName}}
                                </span>
                                <span fxFlex="20" fxLayoutAlign="center center" fxFlex.xs="100" class="btns"
                                    fxLayoutGap="10px">
                                    <button mat-button
                                        (click)="previewDocument(assetData.assetTitle, assetData.userGuideBook)">
                                        <mat-icon>remove_red_eye</mat-icon>
                                        View
                                    </button>
                                    <!-- <button mat-button (click)="downloadDocument(assetData.userGuideBook)">
                                        <mat-icon>save</mat-icon>
                                        Download
                                    </button> -->
                                </span>
                            </div>
                            <div *ngIf="assetData.userGuideBook == null">
                                <span>NA</span>
                            </div>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Asset Document">
                    <div class="tab_content">
                        <app-view-asset-document>
                        </app-view-asset-document>
                    </div>
                </mat-tab>
                <mat-tab label="History">
                    <div class="tab_content">
                        <app-view-history></app-view-history>
                    </div>
                </mat-tab>
                <mat-tab label="Assigned Users">
                    <div class="tab_content">
                        <app-asset-assign-user></app-asset-assign-user>
                    </div>
                </mat-tab>
                <mat-tab label="Transfer Log">
                    <div class="tab_content">
                        <app-asset-transfer-log></app-asset-transfer-log>
                    </div>
                </mat-tab>
                <mat-tab label="Geo-Location">
                    <div class="tab_content">
                        <app-asset-location></app-asset-location>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </mat-card>
</div>
<div id="div-print">
    <div class="qr-code-container">
        <div class="qrcode-row" id="printableArea">
            <div class="col-1">
                <qrcode id="qrcode" [qrdata]="assetCode1" [size]="150" [level]="'M'"></qrcode>
            </div>
            <div class="col-2">
                <div class="row">
                    <div>
                        <div>Title</div>
                        <div class="asset-value">{{assetForQRcode.assetTitle}}</div>
                    </div>
                </div>
                <div class="row">
                    <div>
                        <div>AssetCode</div>
                        <div class="asset-value">{{assetForQRcode.assetCode}}</div>
                    </div>
                </div>
                <div class="row">
                    <div>
                        <div>Model No.</div>
                        <div class="asset-value">{{assetForQRcode.modelNumber}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>